(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[8],{39:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(40),i=n.n(r),s=n(41),a=n(37),o=n(38),c=n(42);n(43),n(44),n(45);function u(e){Object(c.error)({text:"".concat(e),type:"error",addClass:"error"}),setTimeout((function(){h()}),5e3)}function h(){var e=document.querySelector(".error");e&&e.remove()}c.defaults.styling="material",c.defaults.icons="material",c.defaults.hide=!1,c.defaults.remove=!1,delete c.defaults.stack;var p=function(){function e(){Object(a.a)(this,e),this.APIURL="https://api.themoviedb.org/3/",this.searchQuery="",this.key="e5d54dbf2f396b3152db969b26cf47ab",this.query="",this.movie="",this.page=1,this.points={trending:"trending/movie/week",search:"search/movie",movie:"movie/"},this.type="",this.extra=""}return Object(o.a)(e,[{key:"searchURL",get:function(){return this.APIURL+this.points[this.type]+this.movie+this.extra+"?api_key="+this.key}},{key:"clearResult",value:function(){this.count=1,h()}},{key:"fetchResult",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,s,a,o,c,h,p,v,d,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movie,r=void 0===n?"":n,s=t.query,a=void 0===s?"":s,o=t.type,c=void 0===o?"trending":o,h=t.extra,p=void 0===h?"":h,this.query=a,this.type=c,this.movie=r,this.extra=p,v="",a.length&&(v="&query="+a),e.prev=7,e.next=10,fetch(this.searchURL+v);case 10:return d=e.sent,e.next=13,d.json();case 13:if(f=e.sent,!d.ok){e.next=16;break}return e.abrupt("return",f);case 16:return e.abrupt("return",u(f.errors[0]));case 19:e.prev=19,e.t0=e.catch(7),u(e.t0.message);case 22:case"end":return e.stop()}}),e,this,[[7,19]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},54:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r,i=n(37),s=n(38),a=n(47),o=n(46),c=n(0),u=n(39),h=n(18),p=n(19).a.ul(r||(r=Object(h.a)(["\n  padding: 30px;\n  font-size: 16px;\n  list-style-type: none;\n  & > li {\n    margin-bottom: 20px;\n    & h4 {\n      padding-left: 20px;\n      margin-bottom: 10px;\n    }\n  }\n"]))),v=n(1),d=new u.a,f=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={reviews:[]},r.options={movie:r.props.match.params.movieId,type:"movie",extra:"/reviews"},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.fetchResult(this.options).then((function(t){t&&e.setState({reviews:t.results})}))}},{key:"render",value:function(){var e=this.state.reviews;return Object(v.jsx)(p,{children:e.length?e.map((function(e){return Object(v.jsxs)("li",{children:[Object(v.jsxs)("h4",{children:["Author: ",e.author]}),Object(v.jsx)("p",{children:e.content})]},e.id)})):Object(v.jsx)("div",{children:"No reviews found"})})}}]),n}(c.Component)}}]);
//# sourceMappingURL=8.ac75bea7.chunk.js.map