(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{39:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(40),i=n.n(r),a=n(41),s=n(37),c=n(38),o=n(42);n(43),n(44),n(45);function h(t){Object(o.error)({text:"".concat(t),type:"error",addClass:"error"}),setTimeout((function(){u()}),5e3)}function u(){var t=document.querySelector(".error");t&&t.remove()}o.defaults.styling="material",o.defaults.icons="material",o.defaults.hide=!1,o.defaults.remove=!1,delete o.defaults.stack;var p=function(){function t(){Object(s.a)(this,t),this.APIURL="https://api.themoviedb.org/3/",this.searchQuery="",this.key="e5d54dbf2f396b3152db969b26cf47ab",this.query="",this.movie="",this.page=1,this.points={trending:"trending/movie/week",search:"search/movie",movie:"movie/"},this.type="",this.extra=""}return Object(c.a)(t,[{key:"searchURL",get:function(){return this.APIURL+this.points[this.type]+this.movie+this.extra+"?api_key="+this.key}},{key:"clearResult",value:function(){this.count=1,u()}},{key:"fetchResult",value:function(){var t=Object(a.a)(i.a.mark((function t(e){var n,r,a,s,c,o,u,p,d,f,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.movie,r=void 0===n?"":n,a=e.query,s=void 0===a?"":a,c=e.type,o=void 0===c?"trending":c,u=e.extra,p=void 0===u?"":u,this.query=s,this.type=o,this.movie=r,this.extra=p,d="",s.length&&(d="&query="+s),t.prev=7,t.next=10,fetch(this.searchURL+d);case 10:return f=t.sent,t.next=13,f.json();case 13:if(l=t.sent,!f.ok){t.next=16;break}return t.abrupt("return",l);case 16:return t.abrupt("return",h(l.errors[0]));case 19:t.prev=19,t.t0=t.catch(7),h(t.t0.message);case 22:case"end":return t.stop()}}),t,this,[[7,19]])})));return function(e){return t.apply(this,arguments)}}()}]),t}()},51:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var r,i,a=n(37),s=n(38),c=n(47),o=n(46),h=n(0),u=n(18),p=n(19),d=p.a.li(r||(r=Object(u.a)(["\n  padding: 10px;\n  font-size: 12px;\n  width: calc((100vw - 8 * 10px) / 9);\n  height: fit-content;\n  & > img {\n    width: 100%;\n    height: calc((100vw - 10px * 12) / 9);\n    overflow: hidden;\n    object-fit: cover;\n    object-position: top;\n    margin-bottom: 10px;\n  }\n  & > h3 {\n    margin-bottom: 10px;\n  }\n"]))),f=n(1),l=function(t){var e=t.img,n=t.name,r=t.role,i="https://www.themoviedb.org/t/p/",a="w220_and_h330_face",s="https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-4-user-grey-d8fe957375e70239d6abdd549fd7568c89281b2179b5f4470e2e12895792dfa5.svg";return Object(f.jsxs)(d,{children:[Object(f.jsx)("img",{src:e?i+a+e:s,alt:n,srcSet:e?"".concat(i+a+e," 1x, ").concat(i+"w440_and_h660_face"+e," 2x"):s}),Object(f.jsx)("h3",{children:n}),Object(f.jsxs)("p",{children:["Character: ",r]})]})},v=n(39),m=p.a.ul(i||(i=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 30px;\n  list-style-type: none;\n"]))),b=new v.a,y=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={cast:[]},r.options={movie:r.props.match.params.movieId,type:"movie",extra:"/credits"},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;b.fetchResult(this.options).then((function(e){e&&t.setState({cast:e.cast})}))}},{key:"render",value:function(){var t=this.state.cast;return Object(f.jsx)(m,{children:t&&t.map((function(t){return Object(f.jsx)(l,{img:t.profile_path||null,name:t.name,role:t.character},t.id)}))})}}]),n}(h.Component)}}]);
//# sourceMappingURL=6.1d4a96df.chunk.js.map