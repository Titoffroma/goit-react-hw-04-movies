{"version":3,"sources":["Utils/pnotify.js","Utils/fetchMovies.js","Components/MoviesPage/MoviesListStyled.jsx","Components/MoviesPage/MoviesList.jsx","Components/MoviesPage/SearchBarStyled.jsx","Components/MoviesPage/SearchBar.jsx","Components/MoviesPage/index.jsx"],"names":["pushError","err","error","text","type","addClass","setTimeout","removeError","errorRef","document","querySelector","remove","defaults","styling","icons","hide","stack","FetchMovies","this","APIURL","searchQuery","key","query","movie","page","points","trending","search","extra","count","a","pageQuot","length","fetch","searchURL","response","json","result","ok","errors","message","StyledMoviesList","styled","ul","MoviesList","movies","map","to","id","className","original_title","StyledSearchBar","form","SearchBar","onSubmit","name","autoComplete","autoFocus","placeholder","myFetchMovie","fetchMovies","MoviesPage","props","state","handleSearch","e","preventDefault","target","elements","value","options","fetchSearch","location","history","push","pathname","fetchResult","then","setState","results","split","reverse","Component"],"mappings":"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","file":"static/js/5.96ba1374.chunk.js","sourcesContent":["import { error, defaults } from \"@pnotify/core\";\r\nimport \"@pnotify/core/dist/PNotify.css\";\r\nimport \"@pnotify/core/dist/Material.css\";\r\nimport \"material-design-icons/iconfont/material-icons.css\";\r\ndefaults.styling = \"material\";\r\ndefaults.icons = \"material\";\r\ndefaults.hide = false;\r\ndefaults.remove = false;\r\ndelete defaults.stack;\r\n\r\nfunction pushError(err) {\r\n  error({\r\n    text: `${err}`,\r\n    type: \"error\",\r\n    addClass: \"error\",\r\n  });\r\n  setTimeout(() => {\r\n    removeError();\r\n  }, 5000);\r\n}\r\n\r\nfunction removeError() {\r\n  const errorRef = document.querySelector(\".error\");\r\n  if (errorRef) errorRef.remove();\r\n}\r\n\r\nexport { pushError, removeError };\r\n","import { pushError, removeError } from \"./pnotify\";\r\n\r\n// https://api.themoviedb.org/3/movie/550?api_key=e5d54dbf2f396b3152db969b26cf47ab\r\n\r\nexport default class FetchMovies {\r\n  constructor() {\r\n    this.APIURL = \"https://api.themoviedb.org/3/\";\r\n    this.searchQuery = \"\";\r\n    this.key = \"e5d54dbf2f396b3152db969b26cf47ab\";\r\n    this.query = \"\";\r\n    this.movie = \"\";\r\n    this.page = 1;\r\n    this.points = {\r\n      trending: \"trending/movie/week\",\r\n      search: \"search/movie\",\r\n      movie: \"movie/\",\r\n    };\r\n    this.type = \"\";\r\n    this.extra = \"\";\r\n  }\r\n  get searchURL() {\r\n    return (\r\n      this.APIURL +\r\n      this.points[this.type] +\r\n      this.movie +\r\n      this.extra +\r\n      \"?api_key=\" +\r\n      this.key\r\n    );\r\n  }\r\n  clearResult() {\r\n    this.count = 1;\r\n    removeError();\r\n  }\r\n\r\n  async fetchResult({ movie = \"\", query = \"\", type = \"trending\", extra = \"\" }) {\r\n    this.query = query;\r\n    this.type = type;\r\n    this.movie = movie;\r\n    this.extra = extra;\r\n    let pageQuot = \"\";\r\n    if (query.length) pageQuot = \"&query=\" + query;\r\n    try {\r\n      const response = await fetch(this.searchURL + pageQuot);\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        return result;\r\n      }\r\n      return pushError(result.errors[0]);\r\n    } catch (err) {\r\n      pushError(err.message);\r\n    }\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\n\r\nconst StyledMoviesList = styled.ul`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  padding: 30px;\r\n  font-size: 16px;\r\n  list-style-type: none;\r\n  & > li {\r\n    padding: 10px 0;\r\n    width: 250px;\r\n    border-bottom: 1px solid palevioletred;\r\n    & > a {\r\n      color: #717171;\r\n      text-decoration: none;\r\n      width: 100%;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      &:hover,\r\n      &:focus {\r\n        color: palevioletred;\r\n        font-weight: bold;\r\n      }\r\n      &:active {\r\n        color: #212121;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default StyledMoviesList;\r\n","import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport StyledMoviesList from './MoviesListStyled';\r\n\r\nconst MoviesList = ({ movies }) => {\r\n  return (\r\n    <StyledMoviesList>\r\n      {movies ? (\r\n        movies.length ? (\r\n          movies.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to={`/movies/${movie.id}`} className=\"Link\">\r\n                {movie.original_title}\r\n              </Link>\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <li>No matches found.Try new search.</li>\r\n        )\r\n      ) : null}\r\n    </StyledMoviesList>\r\n  );\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array,\r\n};\r\n\r\nexport { MoviesList };\r\n","import styled from 'styled-components';\r\n\r\nconst StyledSearchBar = styled.form`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding: 30px;\r\n  font-size: 16px;\r\n  & > input {\r\n    padding: 10px;\r\n    border: 1px solid #717171;\r\n    border-radius: 10px 0 0 0;\r\n    border-bottom-width: 2px;\r\n    border-right: none;\r\n    color: #717171;\r\n    &:hover,\r\n    &:focus {\r\n      outline: none;\r\n      border-bottom-color: palevioletred;\r\n      color: palevioletred;\r\n      & + button {\r\n        border-bottom-color: palevioletred;\r\n      }\r\n    }\r\n  }\r\n  & > button {\r\n    border-radius: 0 10px 0 0;\r\n    padding: 10px;\r\n    border: 1px solid #717171;\r\n    border-left: none;\r\n    border-bottom-width: 2px;\r\n    &:hover,\r\n    &:focus {\r\n      color: white;\r\n      background: palevioletred;\r\n    }\r\n    &: active {\r\n      background: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default StyledSearchBar;\r\n","import PropTypes from 'prop-types';\r\nimport StyledSearchBar from './SearchBarStyled';\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  return (\r\n    <StyledSearchBar onSubmit={onSubmit}>\r\n      <input\r\n        name=\"search\"\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search movies\"\r\n      />\r\n      <button type=\"submit\">Search</button>\r\n    </StyledSearchBar>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { SearchBar };\r\n","import { Component } from 'react';\r\nimport { SearchBar } from './SearchBar';\r\nimport fetchMovies from '../../Utils/fetchMovies';\r\nimport { MoviesList } from './MoviesList';\r\n\r\nconst myFetchMovie = new fetchMovies();\r\n\r\nexport default class MoviesPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  state = {\r\n    movies: null,\r\n  };\r\n\r\n  handleSearch = e => {\r\n    e.preventDefault();\r\n    const query = e.target.elements.search.value;\r\n    if (!query.length) return;\r\n    const options = {\r\n      type: 'search',\r\n      query: e.target.elements.search.value,\r\n    };\r\n    this.fetchSearch(options);\r\n    const { location, history } = this.props;\r\n    history.push(\r\n      location.pathname + '?query=' + e.target.elements.search.value,\r\n    );\r\n  };\r\n\r\n  fetchSearch(options) {\r\n    myFetchMovie.fetchResult(options).then(response => {\r\n      if (response) {\r\n        this.setState({ movies: response.results });\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { location } = this.props;\r\n    if (location.search) {\r\n      const options = {\r\n        type: 'search',\r\n        query: location.search.split('=').reverse()[0],\r\n      };\r\n      this.fetchSearch(options);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { movies } = this.state;\r\n    return (\r\n      <>\r\n        <SearchBar onSubmit={this.handleSearch} />\r\n        <MoviesList movies={movies} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}