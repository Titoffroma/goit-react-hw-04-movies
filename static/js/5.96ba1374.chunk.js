(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{39:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(40),o=n.n(r),i=n(41),a=n(37),s=n(38),c=n(42);n(43),n(44),n(45);function u(e){Object(c.error)({text:"".concat(e),type:"error",addClass:"error"}),setTimeout((function(){l()}),5e3)}function l(){var e=document.querySelector(".error");e&&e.remove()}c.defaults.styling="material",c.defaults.icons="material",c.defaults.hide=!1,c.defaults.remove=!1,delete c.defaults.stack;var h=function(){function e(){Object(a.a)(this,e),this.APIURL="https://api.themoviedb.org/3/",this.searchQuery="",this.key="e5d54dbf2f396b3152db969b26cf47ab",this.query="",this.movie="",this.page=1,this.points={trending:"trending/movie/week",search:"search/movie",movie:"movie/"},this.type="",this.extra=""}return Object(s.a)(e,[{key:"searchURL",get:function(){return this.APIURL+this.points[this.type]+this.movie+this.extra+"?api_key="+this.key}},{key:"clearResult",value:function(){this.count=1,l()}},{key:"fetchResult",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,i,a,s,c,l,h,d,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movie,r=void 0===n?"":n,i=t.query,a=void 0===i?"":i,s=t.type,c=void 0===s?"trending":s,l=t.extra,h=void 0===l?"":l,this.query=a,this.type=c,this.movie=r,this.extra=h,d="",a.length&&(d="&query="+a),e.prev=7,e.next=10,fetch(this.searchURL+d);case 10:return p=e.sent,e.next=13,p.json();case 13:if(f=e.sent,!p.ok){e.next=16;break}return e.abrupt("return",f);case 16:return e.abrupt("return",u(f.errors[0]));case 19:e.prev=19,e.t0=e.catch(7),u(e.t0.message);case 22:case"end":return e.stop()}}),e,this,[[7,19]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n(8),i=n(18),a=n(19).a.ul(r||(r=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding: 30px;\n  font-size: 16px;\n  list-style-type: none;\n  & > li {\n    padding: 10px 0;\n    width: 250px;\n    border-bottom: 1px solid palevioletred;\n    & > a {\n      color: #717171;\n      text-decoration: none;\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      &:hover,\n      &:focus {\n        color: palevioletred;\n        font-weight: bold;\n      }\n      &:active {\n        color: #212121;\n      }\n    }\n  }\n"]))),s=n(1),c=function(e){var t=e.movies;return Object(s.jsx)(a,{children:t?t.length?t.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/movies/".concat(e.id),className:"Link",children:e.original_title})},e.id)})):Object(s.jsx)("li",{children:"No matches found.Try new search."}):null})}},52:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r,o=n(37),i=n(38),a=n(47),s=n(46),c=n(0),u=n(18),l=n(19).a.form(r||(r=Object(u.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 30px;\n  font-size: 16px;\n  & > input {\n    padding: 10px;\n    border: 1px solid #717171;\n    border-radius: 10px 0 0 0;\n    border-bottom-width: 2px;\n    border-right: none;\n    color: #717171;\n    &:hover,\n    &:focus {\n      outline: none;\n      border-bottom-color: palevioletred;\n      color: palevioletred;\n      & + button {\n        border-bottom-color: palevioletred;\n      }\n    }\n  }\n  & > button {\n    border-radius: 0 10px 0 0;\n    padding: 10px;\n    border: 1px solid #717171;\n    border-left: none;\n    border-bottom-width: 2px;\n    &:hover,\n    &:focus {\n      color: white;\n      background: palevioletred;\n    }\n    &: active {\n      background: red;\n    }\n  }\n"]))),h=n(1),d=function(e){var t=e.onSubmit;return Object(h.jsxs)(l,{onSubmit:t,children:[Object(h.jsx)("input",{name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(h.jsx)("button",{type:"submit",children:"Search"})]})},p=n(39),f=n(48),v=new p.a,b=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={movies:null},r.handleSearch=function(e){if(e.preventDefault(),e.target.elements.search.value.length){var t={type:"search",query:e.target.elements.search.value};r.fetchSearch(t);var n=r.props,o=n.location;n.history.push(o.pathname+"?query="+e.target.elements.search.value)}},r}return Object(i.a)(n,[{key:"fetchSearch",value:function(e){var t=this;v.fetchResult(e).then((function(e){e&&t.setState({movies:e.results})}))}},{key:"componentDidMount",value:function(){var e=this.props.location;if(e.search){var t={type:"search",query:e.search.split("=").reverse()[0]};this.fetchSearch(t)}}},{key:"render",value:function(){var e=this.state.movies;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d,{onSubmit:this.handleSearch}),Object(h.jsx)(f.a,{movies:e})]})}}]),n}(c.Component)}}]);
//# sourceMappingURL=5.96ba1374.chunk.js.map