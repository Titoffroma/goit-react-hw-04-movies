(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[7],{39:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(40),r=n.n(i),s=n(41),o=n(37),c=n(38),a=n(42);n(43),n(44),n(45);function h(e){Object(a.error)({text:"".concat(e),type:"error",addClass:"error"}),setTimeout((function(){l()}),5e3)}function l(){var e=document.querySelector(".error");e&&e.remove()}a.defaults.styling="material",a.defaults.icons="material",a.defaults.hide=!1,a.defaults.remove=!1,delete a.defaults.stack;var d=function(){function e(){Object(o.a)(this,e),this.APIURL="https://api.themoviedb.org/3/",this.searchQuery="",this.key="e5d54dbf2f396b3152db969b26cf47ab",this.query="",this.movie="",this.page=1,this.points={trending:"trending/movie/week",search:"search/movie",movie:"movie/"},this.type="",this.extra=""}return Object(c.a)(e,[{key:"searchURL",get:function(){return this.APIURL+this.points[this.type]+this.movie+this.extra+"?api_key="+this.key}},{key:"clearResult",value:function(){this.count=1,l()}},{key:"fetchResult",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,i,s,o,c,a,l,d,u,p,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movie,i=void 0===n?"":n,s=t.query,o=void 0===s?"":s,c=t.type,a=void 0===c?"trending":c,l=t.extra,d=void 0===l?"":l,this.query=o,this.type=a,this.movie=i,this.extra=d,u="",o.length&&(u="&query="+o),e.prev=7,e.next=10,fetch(this.searchURL+u);case 10:return p=e.sent,e.next=13,p.json();case 13:if(v=e.sent,!p.ok){e.next=16;break}return e.abrupt("return",v);case 16:return e.abrupt("return",h(v.errors[0]));case 19:e.prev=19,e.t0=e.catch(7),h(e.t0.message);case 22:case"end":return e.stop()}}),e,this,[[7,19]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},53:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i,r,s=n(37),o=n(38),c=n(47),a=n(46),h=n(8),l=n(0),d=n(39),u=n(18),p=n(19),v=p.a.div(i||(i=Object(u.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 30px;\n  font-size: 18px;\n  border-bottom: 1px solid rgb(238, 60, 125);\n  .ImageWrapper {\n    \n  }\n  & > img {\n    height: 100%;\n    width: 300px;\n    object-fit: contain;\n    object-position: top center;\n    overflow: hidden;\n    flex-shrink: 0;\n    margin-right: 20px;\n    }\n    & > .MovieDetails {\n      & :not(:last-child) {\n        margin-bottom: 20px;\n      }\n      .GenreList {\n        display: flex;\n        list-style-type: none;\n        & :not(:last-child) {\n          margin-right: 10px;\n        }\n      }\n    }\n  }\n"]))),b=p.a.div(r||(r=Object(u.a)(["\n  padding: 30px;\n  border: 1px solid #717171;\n  border-left: none;\n  border-right: none;\n  & h3 {\n    padding: 20px 0;\n  }\n  & ul {\n    list-style-position: inside;\n  }\n  & a {\n    display: inline-block;\n    color: #717171;\n    margin-bottom: 20px;\n    &:hover,\n    &:focus {\n      color: palevioletred;\n    }\n    &:active {\n      color: #212121;\n    }\n    &:not(:last-child) {\n      margin-bottom: 20px;\n    }\n  }\n"]))),m=n(1),j=new d.a,f=function(e){Object(c.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={movie:null},i.options={movie:i.props.match.params.movieId,type:"movie"},i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;j.fetchResult(this.options).then((function(t){t&&e.setState({movie:t})}))}},{key:"render",value:function(){if(this.state.movie){var e=this.state.movie,t=e.poster_path,n=e.original_title,i=e.vote_average,r=e.overview,s=e.genres,o="https://www.themoviedb.org/t/p/",c="w300_and_h450_bestv2",a="https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-4-user-grey-d8fe957375e70239d6abdd549fd7568c89281b2179b5f4470e2e12895792dfa5.svg",l=e.release_date.slice(0,4);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(v,{children:[Object(m.jsx)("img",{src:t?o+c+t:a,alt:n,srcSet:t?"".concat(o+c+t," 1x, ").concat(o+"w600_and_h900_bestv2"+t," 2x"):a}),Object(m.jsxs)("div",{className:"MovieDetails",children:[Object(m.jsx)("h1",{children:"".concat(n," (").concat(l,")")}),Object(m.jsx)("p",{children:"User Score: ".concat(10*i,"%")}),Object(m.jsx)("h2",{children:"Overview"}),Object(m.jsx)("p",{children:r}),Object(m.jsx)("h3",{children:"Genres"}),Object(m.jsx)("ul",{className:"GenreList",children:s.length?s.map((function(e){return Object(m.jsx)("li",{className:"GenreItem",children:e.name},e.id)})):null})]})]}),Object(m.jsxs)(b,{children:[Object(m.jsx)("h3",{children:"Additional information:"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(h.b,{to:"/movies/".concat(this.options.movie,"/cast"),className:"Link",children:"Cast"})}),Object(m.jsx)("li",{children:Object(m.jsx)(h.b,{to:"/movies/".concat(this.options.movie,"/reviews"),className:"Link",children:"Reviews"})})]})]})]})}return Object(m.jsx)("div",{children:"Something went wrong"})}}]),n}(l.Component)}}]);
//# sourceMappingURL=7.a1807332.chunk.js.map